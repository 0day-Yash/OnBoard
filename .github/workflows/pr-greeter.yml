name: PR Greeter
run-name: PR Greeter
on:
    pull_request:
        types: [ opened ]

jobs:
    comment:
        runs-on: ubuntu-latest
        steps:

            - name: Assign to reviewers
              uses: actions/github-script@v5
              with:
                github-token: ${{secrets.GITHUB_TOKEN}}
                script: |
                    github.rest.issues.addAssignees({
                        issue_number: context.issue.number,
                        owner: context.repo.owner,
                        repo: context.repo.repo,
                        assignees: ['bykevinyang']
                    })

            - name: Label as submission
              uses: actions/github-script@v5
              with:
                github-token: ${{secrets.GITHUB_TOKEN}}
                script: |
                    github.rest.issues.addLabels({
                        issue_number: context.issue.number,
                        owner: context.repo.owner,
                        repo: context.repo.repo,
                        labels: ['Submission']
                    })
             
            - name: Greetings
              uses: actions/github-script@v5
              with:
                github-token: ${{secrets.GITHUB_TOKEN}}
                script: |
                    github.rest.issues.createComment({
                        issue_number: context.issue.number,
                        owner: context.repo.owner,
                        repo: context.repo.repo,
                        body: "![Orpheus waving](http://rawr.hackclub.com/hyper-dino-wave.gif)\n\nðŸ‘‹ Hey there! We got your submission! We currently have our best and brightest reviewing this PR!\n\nIn the meantime, we'll need to get your email and photo ID to set you setup with Hack Club Bank! **Can you fill out this [form](https://airtable.com/shrRaW9OXoIwUXn1E)**? See you in a bit!"
                    })